// main.js
const { getCollisionProbability } = require("./calculator");

const tleData = `
NOAA 15                 
1 25338U 98030A   24328.43619744  .00000417  00000+0  18983-3 0  9991
2 25338  98.5556 352.1583 0009623 214.1909 145.8653 14.26803093380148
DMSP 5D-3 F16 (USA 172) 
1 28054U 03048A   24328.42848157  .00000395  00000+0  23109-3 0  9996
2 28054  99.0211 336.4177 0006795 329.9114 136.5801 14.14206445 88786
NOAA 18                 
1 28654U 05018A   24328.42576792  .00000482  00000+0  27958-3 0  9997
2 28654  98.8627  43.9868 0013640 335.2932  24.7585 14.13428636  5752
METEOSAT-9 (MSG-2)      
1 28912U 05049B   24327.87774140  .00000132  00000+0  00000+0 0  9990
2 28912   8.0550  59.4977 0002000 200.6015 163.9480  1.00274565 69353
EWS-G1 (GOES 13)        
1 29155U 06018A   24327.76436236 -.00000085  00000+0  00000+0 0  9994
2 29155   3.0406  83.3568 0063666 256.4306 192.2994  0.98832625 37608
DMSP 5D-3 F17 (USA 191) 
1 29522U 06050A   24328.40595934  .00000441  00000+0  25170-3 0  9995
2 29522  98.7430 335.7112 0009113 243.4231 116.6009 14.14670250931701
FENGYUN 3A              
1 32958U 08026A   24328.22837391  .00000445  00000+0  23267-3 0  9992
2 32958  98.6245 270.8945 0008413 341.6091  18.4780 14.19286200854512
NOAA 19                 
1 33591U 09005A   24328.40045589  .00000422  00000+0  24944-3 0  9992
2 33591  99.0275  25.7379 0013536 199.7165 160.3485 14.13207172814114
GOES 14                 
1 35491U 09033A   24328.06159049 -.00000060  00000+0  00000+0 0  9995
2 35491   0.1985  91.8037 0003272 119.0325 125.3177  1.00272855 56423
DMSP 5D-3 F18 (USA 210) 
1 35951U 09057A   24328.51800512  .00000567  00000+0  31931-3 0  9992
2 35951  98.8358 301.9090 0012223  74.0691 286.1828 14.14392886778884
EWS-G2 (GOES 15)        
1 36411U 10008A   24328.09512635  .00000043  00000+0  00000+0 0  9999
2 36411   0.1847 272.9715 0006620 332.7771 272.7198  1.00267825 53908
COMS 1                  
1 36744U 10032A   24328.39444090 -.00000335  00000+0  00000+0 0  9992
2 36744   3.3563  82.7874 0000860 159.6610  90.5813  1.00272793 52930
FENGYUN 3B              
1 37214U 10059A   24328.57107694  .00000245  00000+0  15099-3 0  9997
2 37214  99.0400 358.7878 0022194   4.9115  69.4053 14.14626264726788
SUOMI NPP               
1 37849U 11061A   24328.47831482  .00000219  00000+0  12476-3 0  9990
2 37849  98.7377 264.1505 0001871 119.7952 240.3410 14.19502376677460
FENGYUN 2F              
1 38049U 12002A   24327.82802647 -.00000197  00000+0  00000+0 0  9990
2 38049   6.1366  72.4040 0002663 162.3042 241.7897  0.99137942 47148
METEOSAT-10 (MSG-3)     
1 38552U 12035B   24328.15461597  .00000003  00000+0  00000+0 0  9992
2 38552   3.3294  61.7665 0001614 232.5697 184.1326  1.00276552 45498
METOP-B                 
1 38771U 12049A   24328.46076609  .00000361  00000+0  18406-3 0  9990
2 38771  98.6078  21.9490 0001035  78.4865 281.6429 14.21591342632171
INSAT-3D                
1 39216U 13038B   24328.37966208 -.00000331  00000+0  00000+0 0  9992
2 39216   0.4460  90.6512 0002138 175.1715  63.2024  1.00269278 41581
FENGYUN 3C              
1 39260U 13052A   24328.47761406  .00000283  00000+0  16335-3 0  9998
2 39260  98.4393 319.7308 0010225 223.5052 136.5317 14.16349224577874
METEOR-M 2              
1 40069U 14037A   24328.43989933  .00000428  00000+0  21596-3 0  9990
2 40069  98.4504 315.6814 0004596 252.9112 107.1563 14.21143206538244
HIMAWARI-8              
1 40267U 14060A   24327.82517870 -.00000270  00000+0  00000+0 0  9994
2 40267   0.0701  99.2318 0001191 153.1585 247.6530  1.00271486 37030
FENGYUN 2G              
1 40367U 14090A   24327.83797080 -.00000294  00000+0  00000+0 0  9998
2 40367   4.1841  79.7026 0002348 187.4321 196.4260  1.00267285 36271
METEOSAT-11 (MSG-4)     
1 40732U 15034A   24328.08496133  .00000071  00000+0  00000+0 0  9998
2 40732   1.7727  71.4151 0001365 185.9075 205.1660  1.00276798 34288
ELEKTRO-L 2             
1 41105U 15074A   24328.08018292 -.00000108  00000+0  00000+0 0  9995
2 41105   5.2471  77.5258 0003929 186.6519 172.7643  1.00272622 32798
INSAT-3DR               
1 41752U 16054A   24327.88338865 -.00000072  00000+0  00000+0 0  9990
2 41752   0.1405  91.9380 0014187 175.7445 186.7041  1.00272552 30098
HIMAWARI-9              
1 41836U 16064A   24328.43762625 -.00000267  00000+0  00000+0 0  9997
2 41836   0.0375 131.4434 0001275 107.5027 122.2629  1.00273506 29588
GOES 16                 
1 41866U 16071A   24327.85376240 -.00000242  00000+0  00000+0 0  9990
2 41866   0.0261 257.8141 0001467  39.1261 357.5459  1.00270133 29370
FENGYUN 4A              
1 41882U 16077A   24328.45760306 -.00000189  00000+0  00000+0 0  9991
2 41882   0.8634  85.8202 0009176 338.0164 250.3061  1.00269805 29255
CYGFM05                 
1 41884U 16078A   24328.21262661  .00019707  00000+0  60317-3 0  9995
2 41884  34.9647  10.4617 0011631 209.2502 150.7564 15.32864426440547
CYGFM04                 
1 41885U 16078B   24328.42430608  .00021271  00000+0  62839-3 0  9997
2 41885  34.9397 351.4002 0010783 227.4499 132.5308 15.33977536440744
CYGFM02                 
1 41886U 16078C   24328.21362610  .00021323  00000+0  61586-3 0  9998
2 41886  34.9475 354.5293 0013450 218.0552 141.9216 15.34653197440712
CYGFM01                 
1 41887U 16078D   24327.56694168  .00017895  00000+0  55300-3 0  9998
2 41887  34.9480  18.6243 0011846 187.3438 172.7107 15.32569684440390
CYGFM08                 
1 41888U 16078E   24328.19647974  .00020644  00000+0  61361-3 0  9992
2 41888  34.9509   1.2251 0013679 217.4254 142.5511 15.33754882440590
CYGFM07                 
1 41890U 16078G   24328.13659438  .00022078  00000+0  64811-3 0  9993
2 41890  34.9514 352.5354 0011608 231.0023 128.9661 15.34162605440705
CYGFM03                 
1 41891U 16078H   24328.11799663  .00021935  00000+0  64719-3 0  9995
2 41891  34.9475 353.9851 0010544 217.2215 142.7772 15.34016393440682
FENGYUN 3D              
1 43010U 17072A   24328.40393287  .00000336  00000+0  18092-3 0  9994
2 43010  98.9341 284.1634 0000640 206.8984 153.2159 14.19502802364000
NOAA 20 (JPSS-1)        
1 43013U 17073A   24328.42474170  .00000272  00000+0  14959-3 0  9998
2 43013  98.7218 263.7589 0002295  98.7492 261.3944 14.19572418363491
GOES 17                 
1 43226U 18022A   24328.06228553 -.00000085  00000+0  00000+0 0  9992
2 43226   0.0069  89.2143 0003412 161.8150  89.2389  1.00271243 24705
FENGYUN 2H              
1 43491U 18050A   24328.09877535 -.00000121  00000+0  00000+0 0  9991
2 43491   1.5550  85.7335 0001332 153.8614 297.6313  1.00275323 23781
METOP-C                 
1 43689U 18087A   24328.43098776  .00000354  00000+0  18165-3 0  9992
2 43689  98.7043  25.6834 0001441  37.8884 322.2394 14.21481181313743
GEO-KOMPSAT-2A          
1 43823U 18100A   24328.39444090 -.00000336  00000+0  00000+0 0  9993
2 43823   0.0472 114.5451 0000719  23.5991 194.9990  1.00272440 21938
METEOR-M2 2             
1 44387U 19038A   24328.44355266  .00000398  00000+0  19263-3 0  9994
2 44387  98.8499 298.4779 0000815 164.8126 195.3076 14.24069330280051
ARKTIKA-M 1             
1 47719U 21016A   24325.27403188  .00000079  00000+0  00000+0 0  9991
2 47719  63.1353 133.5503 7001790 268.4895  17.5150  2.00607655 27286
FENGYUN 3E              
1 49008U 21062A   24328.40483001  .00000105  00000+0  70152-4 0  9995
2 49008  98.7386 327.6033 0000772 333.1282  26.9854 14.19816159175581
GOES 18                 
1 51850U 22021A   24328.27034080  .00000104  00000+0  00000+0 0  9992
2 51850   0.0186 175.0283 0000664 118.8192  89.2205  1.00271941 10088
NOAA 21 (JPSS-2)        
1 54234U 22150A   24327.89861491  .00000305  00000+0  16550-3 0  9999
2 54234  98.7071 263.8587 0002214  60.1722 299.9674 14.19552353105491
METEOSAT-12 (MTG-I1)    
1 54743U 22170C   24328.44077352  .00000000  00000+0  00000+0 0  9994
2 54743   0.6137  41.9833 0001191 185.0519 354.1432  1.00272924  7243
TIANMU-1 03             
1 55973U 23039A   24328.44623445  .00019247  00000+0  70341-3 0  9997
2 55973  97.4821 118.8141 0004320 349.0017  11.1127 15.28126588 93123
TIANMU-1 04             
1 55974U 23039B   24328.41788676  .00018717  00000+0  68104-3 0  9998
2 55974  97.4748 118.2119 0005237 343.9922  16.1151 15.28272412 93116
TIANMU-1 05             
1 55975U 23039C   24328.41363871  .00018771  00000+0  68625-3 0  9993
2 55975  97.4794 118.6081 0004245   9.4058 350.7260 15.28120166 93107
TIANMU-1 06             
1 55976U 23039D   24328.44035521  .00019570  00000+0  70970-3 0  9999
2 55976  97.4807 118.8333 0004684   5.1673 354.9614 15.28375862 93113
METEOR-M2 3             
1 57166U 23091A   24328.41359396  .00000081  00000+0  54384-4 0  9995
2 57166  98.6927  21.4970 0004563  41.2437 318.9085 14.23953646 73287
TIANMU-1 07             
1 57399U 23101A   24328.40409581  .00011740  00000+0  53380-3 0  9994
2 57399  97.3426  21.2695 0004595  12.2485 347.8861 15.20880897 74596
TIANMU-1 08             
1 57400U 23101B   24328.43804449  .00012654  00000+0  57433-3 0  9990
2 57400  97.3414  21.1555 0006866   9.5936 350.5430 15.20911663 74592
TIANMU-1 09             
1 57401U 23101C   24328.42143884  .00012747  00000+0  57941-3 0  9996
2 57401  97.3370  20.8870 0006561   7.8258 352.3079 15.20862096 74594
TIANMU-1 10             
1 57402U 23101D   24328.38885942  .00012149  00000+0  55203-3 0  9995
2 57402  97.3449  21.2960 0008583   2.7323 357.3958 15.20871802 74585
FENGYUN 3F              
1 57490U 23111A   24328.41920744  .00000241  00000+0  13429-3 0  9991
2 57490  98.7535  35.9551 0001175  51.5664 308.5618 14.19942357 67866
ARKTIKA-M 2             
1 58584U 23198A   24327.00382052  .00000065  00000+0  00000+0 0  9990
2 58584  63.2386 217.3498 6921129 269.5349  17.8492  2.00594635  6845
TIANMU-1 11             
1 58645U 23205A   24328.39746516  .00010742  00000+0  52451-3 0  9993
2 58645  97.3920 349.6110 0009932 202.0137 158.0672 15.18402501 50643
TIANMU-1 12             
1 58646U 23205B   24328.41394563  .00011581  00000+0  56629-3 0  9991
2 58646  97.3904 349.5255 0008130 192.4324 167.6711 15.18347242 50633
TIANMU-1 13             
1 58647U 23205C   24328.38100327  .00010354  00000+0  50642-3 0  9997
2 58647  97.3934 349.5488 0009188 172.3052 187.8325 15.18360782 50622
TIANMU-1 14             
1 58648U 23205D   24328.43080529  .00010994  00000+0  53746-3 0  9993
2 58648  97.3858 349.3069 0009649 177.0889 183.0403 15.18356920 50638
TIANMU-1 19             
1 58660U 23208A   24328.41980328  .00014440  00000+0  69211-3 0  9998
2 58660  97.4195  77.2988 0006812 161.7501 198.3979 15.18999117 50306
TIANMU-1 20             
1 58661U 23208B   24328.44786826  .00015011  00000+0  69386-3 0  9997
2 58661  97.4130  77.4005 0009301 174.6670 185.4666 15.20229253 50337
TIANMU-1 21             
1 58662U 23208C   24328.46153212  .00017071  00000+0  75917-3 0  9992
2 58662  97.4168  78.0072 0008944 174.2470 185.8870 15.21531192 50369
TIANMU-1 22             
1 58663U 23208D   24328.48710470  .00013266  00000+0  63177-3 0  9997
2 58663  97.4188  77.4514 0004831 181.4187 178.7035 15.19252217 50327
TIANMU-1 15             
1 58700U 24004A   24328.49252069  .00011743  00000+0  57393-3 0  9991
2 58700  97.4610 147.0461 0008311 203.9058 156.1791 15.18361227 48910
TIANMU-1 16             
1 58701U 24004B   24328.47356851  .00011560  00000+0  56631-3 0  9995
2 58701  97.4537 146.7608 0008435 207.1430 152.9364 15.18283591 48912
TIANMU-1 17             
1 58702U 24004C   24328.45961429  .00012404  00000+0  60621-3 0  9999
2 58702  97.4578 146.9622 0006876 201.7305 158.3639 15.18357665 48902
TIANMU-1 18             
1 58703U 24004D   24328.44234746  .00011932  00000+0  58325-3 0  9997
2 58703  97.4598 147.0522 0006658 192.5747 167.5322 15.18362449 48908
INSAT-3DS               
1 58990U 24033A   24328.07410473 -.00000150  00000+0  00000+0 0  9993
2 58990   0.0555 268.3049 0001670 343.1272 279.9030  1.00272272  3091
METEOR-M2 4             
1 59051U 24039A   24328.40786530  .00000157  00000+0  89842-4 0  9997
2 59051  98.6217 286.5543 0007672  30.7379 329.4247 14.22304440 38128
GOES 19                 
1 60133U 24119A   24327.92240795 -.00000177  00000+0  00000+0 0  9990
2 60133   0.0026 234.0877 0000649  67.1836   3.7574  1.00271559  1584

`;

const targetSatellite = "NOAA 15";

try {
    const probability = getCollisionProbability(tleData, targetSatellite);
    console.log(`Collision Probability for ${targetSatellite}: ${(probability * 100).toFixed(2)}%`);
} catch (error) {
    console.error(error.message);
}
